<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Film Projesi</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="../../index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css    ">
    <script src="https://unpkg.com/scrollreveal"></script>


</head>

<body class="Dark">

    <div id="headermain" class="navbar Dark"></div> 

    <!--
    <div class="Movie_List_Filter">
        <select>
            <option>Yerli</option>
            <option>Yabancı</option>
        </select>
    </div>
    -->
    <div class="Recep_İvedik_Tanıtım" style="padding-left: 29rem; padding-top: 2.5rem;">
        <div class="En_Üst" style="display: flex;">
            <div>
                <p style="font-size: 3rem; color: white;">Esaretin Bedeli</p>
                <p  style="color: #a9a9a9;">1994 <span style="margin-left: 0.5rem;">13+</span><span style="margin-left: 0.5rem;">2h22m</span></p>
            </div>
            <div style="display: flex; margin-left: 25rem; ">
                <img src="/fotolar/imdb.png" alt="" style="height: 5rem; padding-bottom: 1.5rem;">
                <p style="color: white; font-size: 1.5rem; padding-left: 0.5rem; padding-top: 0.8rem;">9.3/10</p>
            </div>
        </div>
        <div class="Alt" style="display: flex; padding-top: 1rem;">
            <div>
                <img src="/Filmler/Esaretin_Bedeli/fotolar/Esaretin-bedeli.jpg" alt="" style="height: 28rem;">

            </div>
            <div style="color: white; padding-top: 5rem; padding-left: 1rem; font-size: 1.5rem;">
                <p class=" paragraf" style="width: 44rem;">Andy Dufresne, karısının ve onun gizli sevgilisinin cinayeti nedeniyle Shawshank Hapishanesi'ne gönderilir. İlk başta çok yalnız ve izoledir, ancak vücudunuzun derinliklerinde insanların dokunamayacağı veya ulaşamayacağı bir şey olduğunu fark eder.Andy, hapishane 'düzelticisi' Red ile arkadaş olur ve Andy, hayallere sahip olmanın neden önemli olduğunu özetler. Ruhu ve kararlılığı bizi hayal gücüyle dolu, cesaret ve arzuyla dolu bir dünyaya götürür. Andy hayallerini gerçekleştirebilecek mi?

                </p>
                <p class="Yönetmen">Yönetmen <span style="color: black;">Frank Darabont</span></p>
                <p class="Yazar">Yazar <span style="color: black">
                    Stephen King <i class="bi bi-dot"style="color: white;"></i> Frank Darabont </span></p>
            </div>
        </div>
    </div>


    

    <div class="En_Büyük">
        <div class="Oyuncu_Başlık" style="display: flex; margin-left: 20rem; margin-top: 2rem;">
            <div class="vr" style="border-left: 5px solid #e67e22; height: 4rem;"></div>
            <p style="font-size: 3.5rem; margin-left: 0.2rem;">Oyuncular</p>
        </div>

        <div>
            <div style="display: flex; margin-left: 20rem; padding-top: 2rem;">
                <div style="display: flex;">
                    <div style="cursor: pointer; background: url(/Filmler/Esaretin_Bedeli/fotolar/tim_robbins.jpg); background-size: 100% 100%;" class="Yuvarlak1 Şahan"></div>
                    <div style="padding-top: 3rem; padding-left: 1rem;">
                        <p style="font-size: 1.1rem; font-weight: bold;">Tim Robbins</p>
                        <p style="color: #a9a9a9;">Andy Dufresne</p>
                    </div>
                </div>
                
                <div style="display: flex;">
                    <div style="background: url(/Filmler/Esaretin_Bedeli/fotolar/morgon_freeman.jpg); background-size: 100% 100%;" class="Yuvarlak"></div>
                    <div style="padding-top: 3rem; padding-left: 1rem;">
                        <p style="font-size: 1.1rem; font-weight: bold;">Morgan Freeman</p>
                        <p style="color: #a9a9a9;">Ellis Boyd</p>
                    </div>
                </div>

                <div style="display: flex;">
                    <div  style="background: url(/Filmler/Esaretin_Bedeli/fotolar/bob_gunton.jpg); background-size: 100% 100%;" class="Yuvarlak"></div>
                    <div style="padding-top: 3rem; padding-left: 1rem;">
                        <p style="font-size: 1.1rem; font-weight: bold;">Bob Gunton                        </p>
                        <p style="color: #a9a9a9;">Gardiyan Norton</p>
                    </div>
                </div>

                <div style="display: flex;">
                    <div style="background: url(/Filmler/Esaretin_Bedeli/fotolar/William_Sadler_2019.jpg); background-size: 100% 100%;" class="Yuvarlak"></div>
                    <div style="padding-top: 3rem; padding-left: 1rem;">
                        <p style="font-size: 1.1rem; font-weight: bold;">William Sadler</p>
                        <p style="color: #a9a9a9;">Heywood</p>
                    </div>
                </div>

            </div>
        </div>


        <div>
            <div style="display: flex; margin-left: 20rem; padding-top: 2rem;">
                <div style="display: flex;">
                    <div style="background: url(/Filmler/Esaretin_Bedeli/fotolar/Mark_Rolson.jpg); background-size: 100% 100%;" class="Yuvarlak1"></div>
                    <div style="padding-top: 3rem; padding-left: 1rem;">
                        <p style="font-size: 1.1rem; font-weight: bold;">Mark Rolston</p>
                        <p style="color: #a9a9a9;">Bataklık Elması                        </p>
                    </div>
                </div>
                
                <div style="display: flex;">
                    <div style="margin-left: 5rem; background: url(/Filmler/Esaretin_Bedeli/fotolar/james_whitmre.jpg); background-size: 100% 100%;" class="Yuvarlak"></div>
                    <div style="padding-top: 3rem; padding-left: 1rem;">
                        <p style="font-size: 1.1rem; font-weight: bold;">James Whitmore                        </p>
                        <p style="color: #a9a9a9;">Brooks Hatlen                        </p>
                    </div>
                </div>

                <div style="display: flex;">
                    <div style="margin-left: 5.5rem; background: url(/Filmler/Esaretin_Bedeli/fotolar/jeffrey_demun.jpg); background-size: 100% 100%; " class="Yuvarlak"></div>
                    <div style="padding-top: 3rem; padding-left: 1rem;">
                        <p style="font-size: 1.1rem; font-weight: bold;">Jeffrey DeMunn                        </p>
                        <p style="color: #a9a9a9;">1946 DA                       </p>
                    </div>
                </div>

                <div style="display: flex;">
                    <div style="margin-left: 4.3rem; background: url(/Filmler/Esaretin_Bedeli/fotolar/larry_brandenburg.jpg); background-size: 100% 100%; " class="Yuvarlak"></div>
                    <div style="padding-top: 3rem; padding-left: 1rem;">
                        <p style="font-size: 1.1rem; font-weight: bold;">Larry Brandenburg                       </p>
                        <p style="color: #a9a9a9;">Siket                        </p>
                    </div>
                </div>

            </div>
        </div>

        <div>
            <div style="display: flex; margin-left: 20rem; padding-top: 2rem;">
                <div style="display: flex;">
                    <div style="background: url(/Filmler/Esaretin_Bedeli/fotolar/neil_giuntoli.jpg); background-size: 100% 100%;" class="Yuvarlak1"></div>
                    <div style="padding-top: 3rem; padding-left: 1rem;">
                        <p style="font-size: 1.1rem; font-weight: bold;">Neil Giuntoli</p>
                        <p style="color: #a9a9a9;">Jigger</p>
                    </div>
                </div>
                
                <div style="display: flex;">
                    <div style="margin-left: 6.2rem; background: url(/Filmler/Esaretin_Bedeli/fotolar/brian_libby.jpg); background-size: 100% 100%;" class="Yuvarlak"></div>
                    <div style="padding-top: 3rem; padding-left: 1rem;">
                        <p style="font-size: 1.1rem; font-weight: bold;">Brian Libby</p>
                        <p style="color: #a9a9a9;">Floyd</p>
                    </div>
                </div>

                <div style="display: flex;">
                    <div style="margin-left: 8.5rem; background: url(/Filmler/Esaretin_Bedeli/fotolar/David_Proval.jpg); background-size: 100% 100%; " class="Yuvarlak"></div>
                    <div style="padding-top: 3rem; padding-left: 1rem; ">
                        <p style="font-size: 1.1rem; font-weight: bold;">David Proval</p>
                        <p style="color: #a9a9a9;">Snooze</p>
                    </div>
                </div>

                <div style="display: flex;">
                    <div style="margin-left: 6rem; background: url(/Filmler/Esaretin_Bedeli/fotolar/joseph_ragno.jpg); background-size: 100% 100%; " class="Yuvarlak"></div>
                    <div style="padding-top: 3rem; padding-left: 1rem;">
                        <p style="font-size: 1.1rem; font-weight: bold;">Joseph Ragno</p>
                        <p style="color: #a9a9a9;">Ernie</p>
                    </div>
                </div>

            </div>
        </div>
    </div>

    

    <div style="position: relative; margin-left: 20rem; margin-top: 2rem; height: 48rem; width: 86rem; margin-bottom: 60px;">
        <video controls style="width: 1440px;">
            <source class="Hilmi11" src="/Filmler/Esaretin_Bedeli/fotolar/Esaretin_bedeli.mp4" type="video/mp4">
        </video>
    </div>
    
    <div style=" margin-top: 2rem;">
        <div>
            <div style="display: flex;">
                <div>
                    <!-- REPLACE -->
                    <button id="saver" onclick="savemovie()" class="button_save" style="margin-left: 20rem;  cursor: pointer; border-radius: 15px; display: flex; padding: 15px 30px; border-color: rgb(255, 70, 70); background-color: rgb(255, 70, 70); color: white;">
                        <img style="margin-top: 1px; height: 1rem;" src="/Filmler/Recep_İvedik_3/fotolar/save-instagram.png" alt="">
                        <p style="font-weight: bold; margin-left: 0.3rem; font-size: large;">Kaydet</p>
                    </button>
                </div>
                
                <div style="margin-top: 0.7rem;">
                    <div style="font-size: 1.5rem; margin-left: 3rem;  display: flex;">
                        <i onclick="likemovie()" id="movielike" style="display: flex; height: 5rem; cursor: pointer;" class="bi bi-hand-thumbs-up a">
                        <p style="color: green;">0</p></i>
                        <i onclick="dislikemovie()" id="moviedislike" style="display: flex; padding-left: 0.2rem; height: 2rem; cursor: pointer;" class="bi bi-hand-thumbs-down b">
                        <p style="color: red;">0</p></i>
                    </div>
                </div>
                
            </div>
            
        </div>
    </div>
    
    

    
    
    
    
    <div class="Oyuncu_Başlık" style="display: flex; margin-left: 20rem; padding-top: 5rem;">
        <div class="vr" style="border-left: 5px solid #e67e22; height: 4rem;"></div>
        <p style="font-size: 3.5rem; margin-left: 0.4rem;">Yorumlar</p>
    </div>

    <div class="form-group" style=" margin-left: 20rem; margin-top: 2rem;">
        <textarea id="commentbox" style="font-size: large; width: 145vh; height: 20rem; background-color: black; color: white;" class="Form-Control" rows="10" placeholder="Mesajınız..."></textarea>
    </div>

    <button onclick="comment()" id="commenter" class="Gönder" style="cursor: pointer; font-size: 2rem; margin-left: 20rem; width: 145vh; height: 5rem; background-color: black; color: white;">Gönder</button>

    <!-- REPLACE -->
    <div id="commentsection">

    </div>

    
    
    

</body>
<script src="../../essentials.js"></script>
<script src="https://unpkg.com/scrollreveal"></script>
<script>
    const movieID = 4; //MANUAL

    function ready2() {
        const users = JSON.parse(localStorage.getItem("users"));
        const login = parseInt(localStorage.getItem("login"));
        const comments = JSON.parse(localStorage.getItem("movies"))[movieID].Comments;
        var finalhtml = "";
        var idx = 0;
        var movie = JSON.parse(localStorage.getItem("movies"))[movieID];
        document.querySelector("#movielike").innerHTML = `<p style="color: green;">${movie.Likes}</p>`;
        document.querySelector("#moviedislike").innerHTML = `<p style="color: red;">${movie.Dislikes}</p>`;
        comments.forEach(function(e) {
            finalhtml = `<div style="display: flex; margin-left: 20rem; margin-top: 1rem; width: 145vh; height: 7rem; background-color: black;">
                <div style="display: flex; padding-top: 1rem; padding-left: 1rem; ">
                    <div class="Yuvarlak2"></div>
                    <div style="color: white; padding-left: 0.5rem; ">
                        <p style="color: white; font-size: 1.2rem; font-weight: bold;">${e.host}</p>
                        <p style="color: white; font-size: large; padding-top: 0.3rem;">${e.content}</p>
                        <div style=" padding-top: 0.3rem; display: flex;">
                            <i onclick="liked(${idx})" style="display: flex; height: 5rem; cursor: pointer;" class="bi bi-hand-thumbs-up a">
                                <p style="color: green;">${e.likes}</p></i>
                                    <i  onclick="disliked(${idx})" style="display: flex; padding-left: 0.2rem; height: 2rem; cursor: pointer;" class="bi bi-hand-thumbs-down b">
                                <p style="color: red;">${e.dislikes}</p></i>
                            </div>
                        </div>
                    </div>
                </div>` + finalhtml;
            document.querySelector("#commentsection").innerHTML = finalhtml;
            idx = idx + 1;
        })
        if (login == -1) {
            document.querySelector("#commenter").style = "font-size: 2rem; margin-left: 20rem; width: 145vh; height: 5rem; background-color: rgb(33, 33, 33); color: gray;";
            document.querySelector("#commenter").innerHTML = "Göndermek için giriş yapın";
            document.querySelector("#commenter").classList.add("disabled");
        }
        else {
            if (users[login].list.includes(movieID)) {
                document.querySelector("#saver").style = "margin-left: 20rem;  cursor: pointer; border-radius: 15px; display: flex; padding: 15px 38px; border-color: rgb(70, 255, 70); background-color: rgb(70, 255, 70); color: white;";
                document.querySelector("#saver").innerHTML = "Kaydedildi";
            }
        }
    }

    function disliked(index) {
        var movies = JSON.parse(localStorage.getItem("movies"));
        movies[movieID].Comments[index].dislikes = movies[movieID].Comments[index].dislikes + 1;
        localStorage.setItem("movies", JSON.stringify(movies));
        event.target.innerHTML = `<p style="color: red;">${movies[movieID].Comments[index].dislikes}</p>`;
        event.target.style = "color:red; margin-left: 4px; display: flex; height: 5rem; cursor: pointer;"
    }
    function liked(index) {
        var movies = JSON.parse(localStorage.getItem("movies"));
        movies[movieID].Comments[index].likes = movies[movieID].Comments[index].likes + 1;
        localStorage.setItem("movies", JSON.stringify(movies));
        event.target.innerHTML = `<p style="color: green;">${movies[movieID].Comments[index].likes}</p>`;
        event.target.style = "color:green; display: flex; height: 5rem; cursor: pointer;"
    }
    function likemovie() {
        var movies = JSON.parse(localStorage.getItem("movies"));
        movies[movieID].Likes = movies[movieID].Likes + 1;
        localStorage.setItem("movies", JSON.stringify(movies));
        event.target.innerHTML = `<p style="color: green;">${movies[movieID].Likes}</p>`;
        event.target.style = "color:green; display: flex; height: 5rem; cursor: pointer;"
    }
    function dislikemovie() {
        var movies = JSON.parse(localStorage.getItem("movies"));
        movies[movieID].Dislikes = movies[movieID].Dislikes + 1;
        localStorage.setItem("movies", JSON.stringify(movies));
        event.target.innerHTML = `<p style="color: red;">${movies[movieID].Dislikes}</p>`;
        event.target.style = "color:red; display: flex; height: 5rem; cursor: pointer;"
    }

    function savemovie() {
        var users = JSON.parse(localStorage.getItem("users"));
        var login = parseInt(localStorage.getItem("login"));
        if (login == -1) {
            alert("Kaydetmek için lütfen giriş yapın.");
            document.querySelector("#saver").style = "margin-left: 20rem; border-radius: 15px; display: flex; padding: 15px 30px; border-color: rgb(99, 99, 99); background-color: rgb(70, 70, 70); color: white;";
            document.querySelector("#saver").classList.toggle("disabled");
        }
        if (users[login].list == null) users[login].list = [];
        if (!users[login].list.includes(movieID))
        {
            users[login].list.push(movieID);
            localStorage.setItem("users", JSON.stringify(users));
        }
        document.querySelector("#saver").style = "margin-left: 20rem;  cursor: pointer; border-radius: 15px; display: flex; padding: 15px 38px; border-color: rgb(70, 255, 70); background-color: rgb(70, 255, 70); color: white;";
        document.querySelector("#saver").innerHTML = "Kaydedildi";
    }

    function comment() {
        const movies = JSON.parse(localStorage.getItem("movies"));
        movies[movieID].Comments.push({"ID": 0,
            "host": JSON.parse(localStorage.getItem("users"))[parseInt(localStorage.getItem("login"))].username,
            "content": document.querySelector("#commentbox").value,
            "likes": 0,
            "dislikes": 0});
        localStorage.setItem("movies", JSON.stringify(movies)); //MANUAL
        document.querySelector("#commentbox").value = "";
        ready2();
    }

</script>

</html>