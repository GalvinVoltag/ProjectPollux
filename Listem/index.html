<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Film Projesi</title>
    <link rel="stylesheet" href="../../index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css    ">
    <script src="https://unpkg.com/scrollreveal"></script>
    

</head>

<body class="Dark">

    <div id="headermain" class="navbar Dark"></div>


    <!--
    <div class="Movie_List_Filter">
        <select>
            <option>Yerli</option>
            <option>Yabancı</option>
        </select>
    </div>
    -->

    <div id="mylist">
        <h1 style="display: flex; justify-content: center; font-size: 50px; margin-top: 300px; color: gray; user-select: none;">Burada henüz birşeyler yok.</h1><br><a href="../../../index.html" style="justify-content: center; display: flex; font-size: 20px; color: blue; text-decoration: none;">ana sayfa</a> 
    </div>

    <!-- THE PROTOTYPE -->
    <!-- <div>
        <a href="" style="margin-top: 2rem; display: flex; justify-content:left; margin-left: 400px; margin-right: 440px; background-color: rgba(136, 136, 136, 0.16); cursor: pointer;" class="awu Dark">
            <div>
                <img src="../../fotolar/Recep_İvedik_3.jpeg" style=" background-size: 100% 100%; height: 15rem;"></div>
                <div style="margin-top: 0.2rem; margin-left: 0.5rem;">
                    <p style="font-size: 2rem;" id="title">Recep İvedik 3</p>
                    <p style="font-size: 1.1rem; color: #a9a9a9;" id="year">2010 <span id="rating"><i class="bi bi-star-fill"></i>4.2 </span><span id="genre">Komedi</span></p>
                </div>
            </div>
        </a>
        <button type="button" style="margin-left: 1420px; margin-top: -400px; top: -60px; position: relative;" class="button">
            <i class="bi-trash" style="font-size: 2.5rem;"></i>
        </button>
    </div> -->
    

    
    
</body>
<script src="../../essentials.js"></script>
<script>

function ready2(){
    if (JSON.parse(localStorage.getItem("login")) == -1) {
        window.location = "../../../index.html";
    }
    fetch("../../Database/Data.json").then((res) => res.text()).then((text) => {
        const movies = JSON.parse(text);
        const user = JSON.parse(localStorage.getItem("users"))[parseInt(localStorage.getItem("login"))];
        var list;
        if (user.hasOwnProperty("list")) {
            list = user.list;
        } else {
            user.list = [];
        }
        var finallist = ``;
        var idx = 0;
        list.forEach(function(e) {
            const badass = movies[e];
            finallist = finallist + `
            <div id ="listider">
                <div>
                <a href="${badass.Link}" style="margin-top: 2rem; display: flex; justify-content:left; margin-left: 400px; margin-right: 430px; background-color: rgba(136, 136, 136, 0.16); cursor: pointer;" class="awu Dark">
                    <div>
                        <img src="${badass.Cover}" style=" background-size: 100% 100%; height: 15rem;"></div>
                        <div style="margin-top: 0.2rem; margin-left: 0.5rem;">
                            <p style="font-size: 2rem;" id="title">${badass.Title}</p>
                            <p style="font-size: 1.1rem; color: #a9a9a9;" id="year">${badass.Year} <span id="rating"><i class="bi bi-star-fill"></i>${badass.Rating} </span><span id="genre">${badass.Genre}</span></p>
                        </div>
                    </div>
                </a>
                <button onclick="deletelistitem(${idx})" id="deletebutton" style="font-size: 2.5rem; margin-left: 1430px; margin-top: -400px; top: -60px; position: relative;" class="bi-trash button"></button>
                </div>
            </div>`
            document.querySelector("#mylist").innerHTML=finallist;
            idx = idx + 1;
        })
    }).catch((e) => console.error(e));
}

function deletelistitem(index) {
    const login = parseInt(localStorage.getItem("login"));
    var users = JSON.parse(localStorage.getItem("users"));
    // console.log(users);
    // var list = users[login].list;
    users[login].list.splice(index, 1);
    const pn=event.target.parentNode;
    localStorage.setItem("users", JSON.stringify(users))
    console.log(JSON.parse(localStorage.getItem("users")));
    pn.remove();
}

Top.addEventListener("click",function(){
    İtems.forEach((items)=>items.classList.toggle("Active"))
})


ScrollReveal().reveal('.Hilmi' ,{delay:60});
ScrollReveal().reveal('.Hilmi1' ,{delay:200});
ScrollReveal().reveal('.Hilmi2' ,{delay:300});
ScrollReveal().reveal('.Hilmi3' ,{delay:350});
ScrollReveal().reveal('.Hilmi4' ,{delay:400});
ScrollReveal().reveal('.Hilmi5' ,{delay:450});
ScrollReveal().reveal('.Hilmi6' ,{delay:500});
ScrollReveal().reveal('.Hilmi7' ,{delay:550});
ScrollReveal().reveal('.Hilmi8' ,{delay:600});
ScrollReveal().reveal('.Hilmi9' ,{delay:650});
ScrollReveal().reveal('.Hilmi10' ,{delay:700});
ScrollReveal().reveal('.Hilmi11' ,{delay:750});






</script>

</html>